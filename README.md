# Go语言实现一个短链接服务器

### 主要模块
![架构图](http://o99lnabej.bkt.clouddn.com/%E7%9F%AD%E9%93%BE%E6%8E%A5.PNG)
#### 1. web服务器
web服务器使用Go 官方库 net/http
#### 2. 短链接生成/解码 模块
主要功能是1. 输入原网址，输出短链接；2.输入短链接，输出原网址。
> 每个原网址对应一个uint32类型的ID，把ID转换成64进制的6位字符串。所以理论上能生成的短链接上线大约是(2^32-1)。
>
> 考虑到大并发的情况下mysql写入会成为性能瓶颈，使用唯一ID生成器，将模块产生的数据(原链接/ID/短链接）放入消息队列，并直接向用户返回生成短链接。

#### 3. 消息队列
使用通道来实现消息队列，用来存储【短链接生成模块】生成的数据

#### 4. 数据存储模块
使用mysql分表存储存储 （原链接/ID/短链接）等数据



